{"version":3,"sources":["webpack:///./src/views/myCollection/index.vue?2f4b","webpack:///./src/views/myCollection/index.vue?dc40","webpack:///./src/views/myCollection/index.vue","webpack:///./src/views/myCollection/index.vue?6cd5","webpack:///./src/assets/images/share.png","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/save-svg-as-png/lib/saveSvgAsPng.js"],"names":["class","src","alt","avatars","item","tokenId","svg","changeImg","length","repeat","avatar","setAvatar","href","getHerf","background","layout","page-size","limit","current-page","page","currentChange","total","setup","store","data","web3","state","provider","rate","address","accounts","currentBalance","nftContract","initContract","eth","Contract","nftAbi","config","nftAddress","initData","console","log","getAvatars","initWeb3","id","document","querySelector","saveSvgAsPng","window","location","origin","success","commit","arr","loadingInstance","service","lock","text","spinner","methods","getUserAllTokens","call","tokens","num","i","tokenURI","params","push","close","val","refData","render","__scopeId","module","exports","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","k","len","E","this","A","n","arguments","TypeError","out$","default","xmlNs","xhtmlNs","svgNs","doctype","urlRegex","fontFormats","woff2","woff","otf","ttf","eot","sfnt","isElement","obj","HTMLElement","SVGElement","requireDomNode","el","Error","requireDomNodePromise","Promise","resolve","reject","isExternal","url","lastIndexOf","host","getFontMimeTypeFromUrl","fontUrl","formats","Object","keys","filter","extension","indexOf","map","error","arrayBufferToBase64","buffer","binary","bytes","Uint8Array","byteLength","String","fromCharCode","btoa","getDimension","clone","dim","v","viewBox","baseVal","getAttribute","match","parseInt","getBoundingClientRect","style","getComputedStyle","getPropertyValue","isNaN","parseFloat","getDimensions","width","height","tagName","getBBox","_el$getBBox","x","y","_width","_height","reEncode","decodeURIComponent","encodeURIComponent","replace","p1","c","uriToBlob","uri","byteString","atob","split","mimeString","ArrayBuffer","intArray","charCodeAt","Blob","type","query","selector","parentNode","err","warn","detectCssFont","rule","cssText","fullUrl","startsWith","format","inlineImages","all","Array","from","querySelectorAll","image","getAttributeNS","Date","valueOf","canvas","createElement","img","Image","crossOrigin","onerror","onload","getContext","drawImage","setAttributeNS","toDataURL","cachedFonts","inlineFonts","fonts","font","req","XMLHttpRequest","addEventListener","fontInBase64","response","fontUri","e","open","responseType","send","then","fontCss","join","cachedRules","styleSheetRules","styleSheets","sheet","rules","cssRules","inlineCss","options","_ref","selectorRemap","modifyStyle","modifyCss","excludeUnusedCss","generateCss","properties","sel","props","css","detectFonts","fontList","forEach","_ref2","selectorText","downloadOptions","navigator","msSaveOrOpenBlob","popup","prepareSvg","done","_ref3","_ref3$left","left","_ref3$top","top","w","h","_ref3$scale","scale","_ref3$responsive","responsive","_ref3$excludeCss","excludeCss","cloneNode","backgroundColor","_getDimensions","setAttribute","createElementNS","appendChild","removeAttribute","foreignObject","innerHTML","defs","insertBefore","firstChild","outer","svgAsDataUri","_ref4","svgXml","svgAsPngUri","_ref5","_ref5$encoderType","encoderType","_ref5$encoderOptions","encoderOptions","canvg","convertToPng","_ref6","context","pixelRatio","devicePixelRatio","setTransform","png","SecurityError","name","slice","download","saveLink","display","body","blob","URL","createObjectURL","onclick","requestAnimationFrame","revokeObjectURL","click","removeChild","title","saveSvg","downloadOpts"],"mappings":"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","file":"static/js/chunk-78aed87a.07e8eeb6.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=137eb1c2&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=137eb1c2&lang=scss&scoped=true\"","<template>\r\n  <div class=\"container collection-box\">\r\n\t<div class=\"avatar-list flex-middle\">\r\n\t  <div class=\"item\" v-for=\"item in avatars\">\r\n\t\t<div class=\"svg\" :class=\"'svg' + item.tokenId + ' svg' + item.tokenId % 3\" v-html=\"item.svg\"  @click=\"changeImg(item.tokenId)\">\r\n\t\t</div>\r\n\t\t<div class=\"title\">Dank-punk  #{{item.tokenId.length < 5 ? '0'.repeat(5-item.tokenId.length) + item.tokenId: item.tokenId}}</div>\r\n\t\t<div class=\"avatar-btn-box flex-middle\">\r\n          <div class=\"avatar-btn flex-item\" v-if=\"avatar != item.svg\" @click=\"setAvatar(item.svg)\">Set Avatar</div>\r\n\t\t  <div class=\"avatar-btn flex-item\" v-else>Selected</div>\r\n\t\t  <a :href=\"getHerf(item.tokenId)\"><img src=\"@/assets/images/share.png\" alt=\"\"></a>\r\n\t\t</div>\r\n\t\t\r\n\t  </div>\r\n\t</div>\r\n   <div class=\"page-box\">\r\n\t \t <el-pagination\r\n\t\tbackground\r\n\t\tlayout=\"prev, pager, next\"\r\n\t\t:page-size=\"limit\"\r\n\t\t:current-page=\"page\"\r\n\t\t@current-change=\"currentChange\"\r\n\t\t:total=\"total\">\r\n\t\t</el-pagination>\r\n   </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport {useStore} from \"vuex\";\r\nimport config from \"@/utils/config\";\r\nimport nftAbi from \"@/utils/nftAbi\";\r\nimport { saveSvgAsPng }  from 'save-svg-as-png';\r\nimport { ElMessage, ElLoading } from 'element-plus'\r\n\r\nexport default {\r\n  setup () {\r\n     const store = useStore();\r\n     const data = reactive({\r\n       web3: computed(() => store.state.provider),\r\n\t   rate: computed(() => store.state.rate),\r\n       address: computed(() => store.state.accounts[0]),\r\n\t   avatar: computed(() => store.state.avatar),\r\n\t   currentBalance: computed(() => store.state.currentBalance),\r\n\t   nftContract: null,\r\n\t   total: 0,\r\n\t   limit: 4,\r\n\t   page: 1,\r\n\t   avatars: [],\r\n\t   initContract: () => {\r\n\t\t data.nftContract = new data.web3.eth.Contract(nftAbi, config.nftAddress)\r\n\t\t data.initData()\r\n\t   },\r\n\t   currentChange: (page) => {\r\n         console.log(page)\r\n\t\t data.page = page\r\n\t\t data.getAvatars()\r\n\t   },\r\n\t   initData: () => {\r\n\t\t data.getAvatars()\r\n\t   },\r\n\t   initWeb3: () => {\r\n         web3Data.initWeb3()\r\n       },\r\n\t   changeImg: (id) => {\r\n\t\tlet svg = document.querySelector(`.svg${id} svg` );\r\n\t\tconsole.log(svg)\r\n\t\tsaveSvgAsPng(svg, 'my_svg');\r\n\t   },\r\n\t   getHerf: (tokenId) => {\r\n\t\t return `https://twitter.com/intent/tweet?text=${window.location.origin}/#/svg/${tokenId}`\r\n\t   },\r\n\t   setAvatar: (svg) => {\r\n\t\t ElMessage.success('Set Success')\r\n\t\t store.commit('updateAvatar', svg)\r\n\t   },\r\n\t   getAvatars: async () => {\r\n\t\t let arr = []\r\n\t\tlet loadingInstance = ElLoading.service({lock: true,\r\n          text: 'Please wait while the data is loaded',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'});\r\n         let tokens = await data.nftContract.methods.getUserAllTokens(data.address).call()\r\n\t\t data.total = tokens.length\r\n\t\t let num = tokens.length - data.page * data.limit\r\n\t\t num = num > 0 ? num : 0\r\n\t\t for(let i = tokens.length - (data.page - 1) * data.limit - 1; i >= num; i--) {\r\n\t\t   let svg = await data.nftContract.methods.tokenURI(tokens[i]).call()\r\n\t\t   let params = {\r\n\t\t\t tokenId: tokens[i],\r\n\t\t\t svg: svg\r\n\t\t   }\r\n\t\t   arr.push(params)\r\n\t\t }\r\n\t\t data.avatars = arr\r\n\t\t loadingInstance.close();\r\n\t   }\r\n     })\r\n     if (data.address) {\r\n\t\t data.initContract()\r\n     }\r\n     watch(() => data.address, (val) => {\r\n       if (val) {\r\n\t\tdata.initContract()\r\n       }\r\n     })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.avatar-list{\r\n svg{\r\n  width: 100% !important;\r\n  max-height: 280px !important;\r\n }\r\n}\r\n.el-pagination.is-background .btn-next.disabled, .el-pagination.is-background .btn-next:disabled, .el-pagination.is-background .btn-prev.disabled, .el-pagination.is-background .btn-prev:disabled, .el-pagination.is-background .el-pager li.disabled{\r\n  color: #fff !important;\r\n  background: rgba($color: #fff, $alpha: 0.2) !important;\r\n}\r\n.el-pagination.is-background .btn-next, .el-pagination.is-background .btn-prev, .el-pagination.is-background .el-pager li{\r\n  background: none !important;\r\n  color: #fff!important;\r\n}\r\n.el-pagination.is-background .btn-next, .el-pagination.is-background .btn-prev{\r\n   background: #20CAA2 !important;\t\r\n}\r\n.el-pagination.is-background .el-pager li:not(.disabled).active{\r\n\tcolor: #20CAA2!important;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n    width: 100%;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n}\r\n.collection-box{\r\n  padding: 120px 0 100px;\r\n  .avatar-list{\r\n\t flex-wrap: wrap;\r\n\t min-height: 40vh;\r\n\t.item{\r\n\t  width: 19%;\r\n\t  margin: 0 3% 40px;\r\n\t  .svg{\r\n\t    border-radius: 8px;\r\n\t\t&.svg0 {\r\n\t\t  background: url('~@/assets/images/bg1.png') no-repeat center center;\r\n\t\t  background-size: 100% 100%;\r\n\t\t}\r\n\t\t&.svg1 {\r\n\t\t  background: url('~@/assets/images/bg2.png') no-repeat center center;\r\n\t\t  background-size: 100% 100%;\r\n\t\t}\r\n\t\t&.svg2 {\r\n\t\t  background: url('~@/assets/images/bg3.png') no-repeat center center;\r\n\t\t  background-size: 100% 100%;\r\n\t\t}\r\n\t\t// &:nth-of-type(3n+2) {\r\n\t\t//   background: url('~@/assets/images/bg2.png') no-repeat center center;\r\n\t\t//   background-size: 100% 100%;\r\n\t\t// }\r\n\t\tsvg{\r\n\t\t  width: 100% !important;\r\n\t\t  height: auto !important;\r\n\t\t}\r\n\t  }\r\n\t  .title{\r\n\t\t color: #20CAA2;\r\n\t\t font-size: 16px;\r\n\t\t margin-top: 15px;\r\n\t\t padding: 0 12px;\r\n\t  }\r\n\t  .avatar-btn-box{\r\n        margin: 25px auto 0;\r\n\t\ta{\r\n\t\t  margin-left: 20px;\r\n\t\t  img\r\n\t\t  {\r\n\t\t\t  height: 40px;\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\t  .avatar-btn{\r\n\t\tcursor: pointer;\r\n\t\theight: 40px;\r\n\t\tbox-sizing: border-box;\r\n\t\t\r\n\t\tborder-radius: 20px;\r\n\t\twidth: 90%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 38px;\r\n\t\tborder: 1px solid #20CAA2;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #20CAA2;\r\n\t  }\r\n\t}\r\n  }\r\n}\r\n.page-box{\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n@media screen and (max-width: 480px) {\r\n  .collection-box{\r\n  padding: 120px 0 100px;\r\n  .avatar-list{\r\n\t flex-wrap: wrap;\r\n\t.item{\r\n\t  width: 46%;\r\n\t  margin: 0 2% 30px;\r\n\t  .svg{\r\n\t\t background: #20CAA2;\r\n\t  border-radius: 8px;\r\n\t\tsvg{\r\n\t\t  width: 172px !important;\r\n\t\t  height: 172px !important;\r\n\t\t}\r\n\t  }\r\n\t   .avatar-btn-box{\r\n        margin: 25px auto 0;\r\n\t\ta{\r\n\t\t  margin-left: 20px;\r\n\t\t  img\r\n\t\t  {\r\n\t\t\t  height: 40px;\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\t  .avatar-btn{\r\n\t\tcursor: pointer;\r\n\t\theight: 40px;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 20px;\r\n\t\twidth: 90%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 38px;\r\n\t\tborder: 1px solid #20CAA2;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #20CAA2;\r\n\t  }\r\n\t}\r\n  }\r\n}\t\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=137eb1c2&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=137eb1c2&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=137eb1c2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-137eb1c2\"\n\nexport default script","module.exports = \"data:image/png;base64,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\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\n\n(function () {\n  var out$ = typeof exports != 'undefined' && exports || typeof define != 'undefined' && {} || this || window;\n  if (typeof define !== 'undefined') define('save-svg-as-png', [], function () {\n    return out$;\n  });\n  out$.default = out$;\n\n  var xmlNs = 'http://www.w3.org/2000/xmlns/';\n  var xhtmlNs = 'http://www.w3.org/1999/xhtml';\n  var svgNs = 'http://www.w3.org/2000/svg';\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\" [<!ENTITY nbsp \"&#160;\">]>';\n  var urlRegex = /url\\([\"']?(.+?)[\"']?\\)/;\n  var fontFormats = {\n    woff2: 'font/woff2',\n    woff: 'font/woff',\n    otf: 'application/x-font-opentype',\n    ttf: 'application/x-font-ttf',\n    eot: 'application/vnd.ms-fontobject',\n    sfnt: 'application/font-sfnt',\n    svg: 'image/svg+xml'\n  };\n\n  var isElement = function isElement(obj) {\n    return obj instanceof HTMLElement || obj instanceof SVGElement;\n  };\n  var requireDomNode = function requireDomNode(el) {\n    if (!isElement(el)) throw new Error('an HTMLElement or SVGElement is required; got ' + el);\n  };\n  var requireDomNodePromise = function requireDomNodePromise(el) {\n    return new Promise(function (resolve, reject) {\n      if (isElement(el)) resolve(el);else reject(new Error('an HTMLElement or SVGElement is required; got ' + el));\n    });\n  };\n  var isExternal = function isExternal(url) {\n    return url && url.lastIndexOf('http', 0) === 0 && url.lastIndexOf(window.location.host) === -1;\n  };\n\n  var getFontMimeTypeFromUrl = function getFontMimeTypeFromUrl(fontUrl) {\n    var formats = Object.keys(fontFormats).filter(function (extension) {\n      return fontUrl.indexOf('.' + extension) > 0;\n    }).map(function (extension) {\n      return fontFormats[extension];\n    });\n    if (formats) return formats[0];\n    console.error('Unknown font format for ' + fontUrl + '. Fonts may not be working correctly.');\n    return 'application/octet-stream';\n  };\n\n  var arrayBufferToBase64 = function arrayBufferToBase64(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    for (var i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }return window.btoa(binary);\n  };\n\n  var getDimension = function getDimension(el, clone, dim) {\n    var v = el.viewBox && el.viewBox.baseVal && el.viewBox.baseVal[dim] || clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim)) || el.getBoundingClientRect()[dim] || parseInt(clone.style[dim]) || parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return typeof v === 'undefined' || v === null || isNaN(parseFloat(v)) ? 0 : v;\n  };\n\n  var getDimensions = function getDimensions(el, clone, width, height) {\n    if (el.tagName === 'svg') return {\n      width: width || getDimension(el, clone, 'width'),\n      height: height || getDimension(el, clone, 'height')\n    };else if (el.getBBox) {\n      var _el$getBBox = el.getBBox(),\n          x = _el$getBBox.x,\n          y = _el$getBBox.y,\n          _width = _el$getBBox.width,\n          _height = _el$getBBox.height;\n\n      return {\n        width: x + _width,\n        height: y + _height\n      };\n    }\n  };\n\n  var reEncode = function reEncode(data) {\n    return decodeURIComponent(encodeURIComponent(data).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n      var c = String.fromCharCode('0x' + p1);\n      return c === '%' ? '%25' : c;\n    }));\n  };\n\n  var uriToBlob = function uriToBlob(uri) {\n    var byteString = window.atob(uri.split(',')[1]);\n    var mimeString = uri.split(',')[0].split(':')[1].split(';')[0];\n    var buffer = new ArrayBuffer(byteString.length);\n    var intArray = new Uint8Array(buffer);\n    for (var i = 0; i < byteString.length; i++) {\n      intArray[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([buffer], { type: mimeString });\n  };\n\n  var query = function query(el, selector) {\n    if (!selector) return;\n    try {\n      return el.querySelector(selector) || el.parentNode && el.parentNode.querySelector(selector);\n    } catch (err) {\n      console.warn('Invalid CSS selector \"' + selector + '\"', err);\n    }\n  };\n\n  var detectCssFont = function detectCssFont(rule, href) {\n    // Match CSS font-face rules to external links.\n    // @font-face {\n    //   src: local('Abel'), url(https://fonts.gstatic.com/s/abel/v6/UzN-iejR1VoXU2Oc-7LsbvesZW2xOQ-xsNqO47m55DA.woff2);\n    // }\n    var match = rule.cssText.match(urlRegex);\n    var url = match && match[1] || '';\n    if (!url || url.match(/^data:/) || url === 'about:blank') return;\n    var fullUrl = url.startsWith('../') ? href + '/../' + url : url.startsWith('./') ? href + '/.' + url : url;\n    return {\n      text: rule.cssText,\n      format: getFontMimeTypeFromUrl(fullUrl),\n      url: fullUrl\n    };\n  };\n\n  var inlineImages = function inlineImages(el) {\n    return Promise.all(Array.from(el.querySelectorAll('image')).map(function (image) {\n      var href = image.getAttributeNS('http://www.w3.org/1999/xlink', 'href') || image.getAttribute('href');\n      if (!href) return Promise.resolve(null);\n      if (isExternal(href)) {\n        href += (href.indexOf('?') === -1 ? '?' : '&') + 't=' + new Date().valueOf();\n      }\n      return new Promise(function (resolve, reject) {\n        var canvas = document.createElement('canvas');\n        var img = new Image();\n        img.crossOrigin = 'anonymous';\n        img.src = href;\n        img.onerror = function () {\n          return reject(new Error('Could not load ' + href));\n        };\n        img.onload = function () {\n          canvas.width = img.width;\n          canvas.height = img.height;\n          canvas.getContext('2d').drawImage(img, 0, 0);\n          image.setAttributeNS('http://www.w3.org/1999/xlink', 'href', canvas.toDataURL('image/png'));\n          resolve(true);\n        };\n      });\n    }));\n  };\n\n  var cachedFonts = {};\n  var inlineFonts = function inlineFonts(fonts) {\n    return Promise.all(fonts.map(function (font) {\n      return new Promise(function (resolve, reject) {\n        if (cachedFonts[font.url]) return resolve(cachedFonts[font.url]);\n\n        var req = new XMLHttpRequest();\n        req.addEventListener('load', function () {\n          // TODO: it may also be worth it to wait until fonts are fully loaded before\n          // attempting to rasterize them. (e.g. use https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet)\n          var fontInBase64 = arrayBufferToBase64(req.response);\n          var fontUri = font.text.replace(urlRegex, 'url(\"data:' + font.format + ';base64,' + fontInBase64 + '\")') + '\\n';\n          cachedFonts[font.url] = fontUri;\n          resolve(fontUri);\n        });\n        req.addEventListener('error', function (e) {\n          console.warn('Failed to load font from: ' + font.url, e);\n          cachedFonts[font.url] = null;\n          resolve(null);\n        });\n        req.addEventListener('abort', function (e) {\n          console.warn('Aborted loading font from: ' + font.url, e);\n          resolve(null);\n        });\n        req.open('GET', font.url);\n        req.responseType = 'arraybuffer';\n        req.send();\n      });\n    })).then(function (fontCss) {\n      return fontCss.filter(function (x) {\n        return x;\n      }).join('');\n    });\n  };\n\n  var cachedRules = null;\n  var styleSheetRules = function styleSheetRules() {\n    if (cachedRules) return cachedRules;\n    return cachedRules = Array.from(document.styleSheets).map(function (sheet) {\n      try {\n        return { rules: sheet.cssRules, href: sheet.href };\n      } catch (e) {\n        console.warn('Stylesheet could not be loaded: ' + sheet.href, e);\n        return {};\n      }\n    });\n  };\n\n  var inlineCss = function inlineCss(el, options) {\n    var _ref = options || {},\n        selectorRemap = _ref.selectorRemap,\n        modifyStyle = _ref.modifyStyle,\n        modifyCss = _ref.modifyCss,\n        fonts = _ref.fonts,\n        excludeUnusedCss = _ref.excludeUnusedCss;\n\n    var generateCss = modifyCss || function (selector, properties) {\n      var sel = selectorRemap ? selectorRemap(selector) : selector;\n      var props = modifyStyle ? modifyStyle(properties) : properties;\n      return sel + '{' + props + '}\\n';\n    };\n    var css = [];\n    var detectFonts = typeof fonts === 'undefined';\n    var fontList = fonts || [];\n    styleSheetRules().forEach(function (_ref2) {\n      var rules = _ref2.rules,\n          href = _ref2.href;\n\n      if (!rules) return;\n      Array.from(rules).forEach(function (rule) {\n        if (typeof rule.style != 'undefined') {\n          if (query(el, rule.selectorText)) css.push(generateCss(rule.selectorText, rule.style.cssText));else if (detectFonts && rule.cssText.match(/^@font-face/)) {\n            var font = detectCssFont(rule, href);\n            if (font) fontList.push(font);\n          } else if (!excludeUnusedCss) {\n            css.push(rule.cssText);\n          }\n        }\n      });\n    });\n\n    return inlineFonts(fontList).then(function (fontCss) {\n      return css.join('\\n') + fontCss;\n    });\n  };\n\n  var downloadOptions = function downloadOptions() {\n    if (!navigator.msSaveOrOpenBlob && !('download' in document.createElement('a'))) {\n      return { popup: window.open() };\n    }\n  };\n\n  out$.prepareSvg = function (el, options, done) {\n    requireDomNode(el);\n\n    var _ref3 = options || {},\n        _ref3$left = _ref3.left,\n        left = _ref3$left === undefined ? 0 : _ref3$left,\n        _ref3$top = _ref3.top,\n        top = _ref3$top === undefined ? 0 : _ref3$top,\n        w = _ref3.width,\n        h = _ref3.height,\n        _ref3$scale = _ref3.scale,\n        scale = _ref3$scale === undefined ? 1 : _ref3$scale,\n        _ref3$responsive = _ref3.responsive,\n        responsive = _ref3$responsive === undefined ? false : _ref3$responsive,\n        _ref3$excludeCss = _ref3.excludeCss,\n        excludeCss = _ref3$excludeCss === undefined ? false : _ref3$excludeCss;\n\n    return inlineImages(el).then(function () {\n      var clone = el.cloneNode(true);\n      clone.style.backgroundColor = (options || {}).backgroundColor || el.style.backgroundColor;\n\n      var _getDimensions = getDimensions(el, clone, w, h),\n          width = _getDimensions.width,\n          height = _getDimensions.height;\n\n      if (el.tagName !== 'svg') {\n        if (el.getBBox) {\n          if (clone.getAttribute('transform') != null) {\n            clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n          }\n          var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n          svg.appendChild(clone);\n          clone = svg;\n        } else {\n          console.error('Attempted to render non-SVG element', el);\n          return;\n        }\n      }\n\n      clone.setAttribute('version', '1.1');\n      clone.setAttribute('viewBox', [left, top, width, height].join(' '));\n      if (!clone.getAttribute('xmlns')) clone.setAttributeNS(xmlNs, 'xmlns', svgNs);\n      if (!clone.getAttribute('xmlns:xlink')) clone.setAttributeNS(xmlNs, 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n      if (responsive) {\n        clone.removeAttribute('width');\n        clone.removeAttribute('height');\n        clone.setAttribute('preserveAspectRatio', 'xMinYMin meet');\n      } else {\n        clone.setAttribute('width', width * scale);\n        clone.setAttribute('height', height * scale);\n      }\n\n      Array.from(clone.querySelectorAll('foreignObject > *')).forEach(function (foreignObject) {\n        foreignObject.setAttributeNS(xmlNs, 'xmlns', foreignObject.tagName === 'svg' ? svgNs : xhtmlNs);\n      });\n\n      if (excludeCss) {\n        var outer = document.createElement('div');\n        outer.appendChild(clone);\n        var src = outer.innerHTML;\n        if (typeof done === 'function') done(src, width, height);else return { src: src, width: width, height: height };\n      } else {\n        return inlineCss(el, options).then(function (css) {\n          var style = document.createElement('style');\n          style.setAttribute('type', 'text/css');\n          style.innerHTML = '<![CDATA[\\n' + css + '\\n]]>';\n\n          var defs = document.createElement('defs');\n          defs.appendChild(style);\n          clone.insertBefore(defs, clone.firstChild);\n\n          var outer = document.createElement('div');\n          outer.appendChild(clone);\n          var src = outer.innerHTML.replace(/NS\\d+:href/gi, 'xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href');\n\n          if (typeof done === 'function') done(src, width, height);else return { src: src, width: width, height: height };\n        });\n      }\n    });\n  };\n\n  out$.svgAsDataUri = function (el, options, done) {\n    requireDomNode(el);\n    return out$.prepareSvg(el, options).then(function (_ref4) {\n      var src = _ref4.src,\n          width = _ref4.width,\n          height = _ref4.height;\n\n      var svgXml = 'data:image/svg+xml;base64,' + window.btoa(reEncode(doctype + src));\n      if (typeof done === 'function') {\n        done(svgXml, width, height);\n      }\n      return svgXml;\n    });\n  };\n\n  out$.svgAsPngUri = function (el, options, done) {\n    requireDomNode(el);\n\n    var _ref5 = options || {},\n        _ref5$encoderType = _ref5.encoderType,\n        encoderType = _ref5$encoderType === undefined ? 'image/png' : _ref5$encoderType,\n        _ref5$encoderOptions = _ref5.encoderOptions,\n        encoderOptions = _ref5$encoderOptions === undefined ? 0.8 : _ref5$encoderOptions,\n        canvg = _ref5.canvg;\n\n    var convertToPng = function convertToPng(_ref6) {\n      var src = _ref6.src,\n          width = _ref6.width,\n          height = _ref6.height;\n\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      var pixelRatio = window.devicePixelRatio || 1;\n\n      canvas.width = width * pixelRatio;\n      canvas.height = height * pixelRatio;\n      canvas.style.width = canvas.width + 'px';\n      canvas.style.height = canvas.height + 'px';\n      context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\n      if (canvg) canvg(canvas, src);else context.drawImage(src, 0, 0);\n\n      var png = void 0;\n      try {\n        png = canvas.toDataURL(encoderType, encoderOptions);\n      } catch (e) {\n        if (typeof SecurityError !== 'undefined' && e instanceof SecurityError || e.name === 'SecurityError') {\n          console.error('Rendered SVG images cannot be downloaded in this browser.');\n          return;\n        } else throw e;\n      }\n      if (typeof done === 'function') done(png, canvas.width, canvas.height);\n      return Promise.resolve(png);\n    };\n\n    if (canvg) return out$.prepareSvg(el, options).then(convertToPng);else return out$.svgAsDataUri(el, options).then(function (uri) {\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n        image.onload = function () {\n          return resolve(convertToPng({\n            src: image,\n            width: image.width,\n            height: image.height\n          }));\n        };\n        image.onerror = function () {\n          reject('There was an error loading the data URI as an image on the following SVG\\n' + window.atob(uri.slice(26)) + 'Open the following link to see browser\\'s diagnosis\\n' + uri);\n        };\n        image.src = uri;\n      });\n    });\n  };\n\n  out$.download = function (name, uri, options) {\n    if (navigator.msSaveOrOpenBlob) navigator.msSaveOrOpenBlob(uriToBlob(uri), name);else {\n      var saveLink = document.createElement('a');\n      if ('download' in saveLink) {\n        saveLink.download = name;\n        saveLink.style.display = 'none';\n        document.body.appendChild(saveLink);\n        try {\n          var blob = uriToBlob(uri);\n          var url = URL.createObjectURL(blob);\n          saveLink.href = url;\n          saveLink.onclick = function () {\n            return requestAnimationFrame(function () {\n              return URL.revokeObjectURL(url);\n            });\n          };\n        } catch (e) {\n          console.error(e);\n          console.warn('Error while getting object URL. Falling back to string URL.');\n          saveLink.href = uri;\n        }\n        saveLink.click();\n        document.body.removeChild(saveLink);\n      } else if (options && options.popup) {\n        options.popup.document.title = name;\n        options.popup.location.replace(uri);\n      }\n    }\n  };\n\n  out$.saveSvg = function (el, name, options) {\n    var downloadOpts = downloadOptions(); // don't inline, can't be async\n    return requireDomNodePromise(el).then(function (el) {\n      return out$.svgAsDataUri(el, options || {});\n    }).then(function (uri) {\n      return out$.download(name, uri, downloadOpts);\n    });\n  };\n\n  out$.saveSvgAsPng = function (el, name, options) {\n    var downloadOpts = downloadOptions(); // don't inline, can't be async\n    return requireDomNodePromise(el).then(function (el) {\n      return out$.svgAsPngUri(el, options || {});\n    }).then(function (uri) {\n      return out$.download(name, uri, downloadOpts);\n    });\n  };\n})();"],"sourceRoot":""}